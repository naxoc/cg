<?php

function cg_generate_plugin_content_type($plugin_name, $prefix) {
return <<<CONTENT
<?php
// \$Id\$

/**
 * @file
 * content_type plugin generated by drush cg-plugin.
 */

  \$plugin = array(
  'title' => t('TITLE'),
  'description' => t('DESCRIPTION.'),
  'content_types' => array('$plugin_name'),
  'defaults' => array('{$prefix}_YOUR_VAR' => ''),
  'category' => t('CATEGORY'),
  'all contexts' => TRUE,
  );

/**
  * 'Edit' callback for the content type.
  */
function {$prefix}_content_type_edit_form(&\$form, &\$form_state) {
  \$conf = \$form_state['conf'];
  \$form['{$prefix}_YOUR_VAR'] = array(
    '#type' => 'textfield',
    '#title' => t('TITLE'),
    '#description' => t('DESCRIPTION.'),
    '#default_value' => !empty(\$conf['{$prefix}_YOUR_VAR']) ? \$conf['{$prefix}_YOUR_VAR'] : '',
  );
  return \$form;
}

/**
  * The submit form stores the data in \$conf.
  */
function {$prefix}_content_type_edit_form_submit(&\$form, &\$form_state) {
  foreach (array_keys(\$form_state['plugin']['defaults']) as \$key) {
    if (isset(\$form_state['values'][\$key])) {
      \$form_state['conf'][\$key] = \$form_state['values'][\$key];
    }
  }
}

function {$prefix}_content_type_render(\$subtype, \$conf, \$panel_args, \$context) {
  \$block = new stdClass();
  \$block->content = '';
  return \$block;
}

CONTENT;
}
